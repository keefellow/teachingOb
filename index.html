<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>
		Teaching Behavior		
	</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

</head>
<body>
<h1>Teaching Behavior</h1>

<div class="container" style="display: flex; height: 100px;">
        <div style="width: 50%;">
        	 <button id ="start" onclick="startBtn()">Reset</button>
<br>	
<br>
<textarea type="feedback" cols="40" rows = "5" id="fb"></textarea>
<br>
<br>
<button id ="beh1" onclick="beh1()">beh1</button>
<button id ="beh2" onclick="beh2()">beh2</button>
<button id ="beh3" onclick="beh3()">beh3</button>
<button id ="beh4" onclick="beh4()">beh4</button>
<button id ="beh5" onclick="beh5()">beh5</button>
<button id ="beh6" onclick="beh6()">beh6</button>
<br>	
<br>
<p id="records"></p>
<p id="b0">b0</p>
<p id="b1">b1</p>
<p id="b2">b2</p>


<br>
 
            </div>
            <div style="flex-grow: 1;"> 
<canvas id="myChart" style="width:100%;max-width:600px"></canvas>

            </div>
    </div>

</body>


<script>

var beh1_count=0; 
var beh2_count=0; 
var beh3_count=0; 
var beh4_count=0; 
var beh5_count=0;
var beh6_count=0; 
//now = new Date().getTime();
//document.getElementById("b0").innerHTML=now

function startBtn(){
	beh1_count=performance.now()
	beh2_count=0
	beh3_count=0
	beh4_count=0
	beh5_count=0
	beh6_count=0
	// Get today's date and time
  lastTime = new Date().getTime();
  document.getElementById("b0").innerHTML=lastTime;
  document.getElementById("b1").innerHTML=beh1_count
  document.getElementById("b2").innerHTML=0

	update();
}

function beh1(){
	nowTime = new Date().getTime();
	//beh1_count=beh1_count + nowTime-lastTime;
	beh1_count=performance.now()-beh1_count
	document.getElementById("b1").innerHTML=beh1_count;
	update();
	}

function beh2(){
	nowTime = new Date().getTime();
	beh2_count=beh2_count + nowTime-lastTime;
	document.getElementById("b2").innerHTML=beh2_count;
	update();
	}
function beh3(){
	beh3_count++
	update()
	}

function beh4(){
	beh4_count++
	update()
	}

function beh5(){
	beh5_count++
	update()
	}

function beh6(){
	beh6_count++
	update()
	}



function update(){

document.getElementById("records").innerHTML=
document.getElementById("fb").value
document.getElementById("fb").value=""
charting();

	}

function checkFunction(){

	bought_price = document.getElementById('boughtPrice').value;

	amount_invested = document.getElementById('amountInvested').value;

	

	function p_l_calc() {
		btc_bought = amount_invested/bought_price;
		current_worth = btc_bought * current_price
		profit_loss = current_worth - amount_invested;

		document.getElementById('qty').innerHTML="Quantity: " + Math.round(btc_bought *100)/100

		document.getElementById('cp').innerHTML="Current Price: $" + current_price



	}

	loadDoc()
			function loadDoc() {
			  var xhttp = new XMLHttpRequest();
			  xhttp.onreadystatechange = function() {
			    if (this.readyState == 4 && this.status == 200) {
			         current_price=JSON.parse(this.responseText)
			         current_price= current_price.bitcoin.usd;
			         p_l_calc();
			         document.getElementById('pl').innerHTML="Profit/Loss: "+"$"+ Math.round(profit_loss *100)/100
			         ;
			         }
			  };
			  xhttp.open("GET","https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd", true);
			  xhttp.send();
			}


}

function charting(){
var xValues = ["Behavior 1", "Behavior 2", "Behavior 3", "Behavior 4", "Behavior 5", 
"Behavior 6"];
var yValues = [beh1_count, beh2_count, beh3_count, beh4_count, beh5_count, beh6_count];
var barColors = [
  "#b91d47",
  "#00aba9",
  "#2b5797",
  "#e8c3b9",
  "#1e7145",
  "yellow"
];

new Chart("myChart", {
  type: "pie",
  data: {
    labels: xValues,
    datasets: [{
      backgroundColor: barColors,
      data: yValues
    }]
  },
  options: {
    title: {
      display: true,
      text: "Teaching Behavior"
    }
  }
})

}
;

</script>

</html>
